---
layout: post
title: xxl-job使用指南
categories: Java-定时任务
description: none
keywords: Java, 定时任务, 可视化，xxl-job
---

## xxl-job使用

这里的内容用于总结和学习，如果希望参考官方文档，请看下方的参考资料（标注为【官方文档的链接】）

#### 第一步：docker安装xxl-job

docker 下拉取 xxl-job 的镜像（这里使用 2.4.0 版本）

```shell
docker pull xuxueli/xxl-job-admin:2.4.0
```

创建映射容器的文件目录

```shell
mkdir -p -m 777 /temp/xxl-job/data/applogs
```

#### 第二步：拉取源代码

只需要下载源代码中的两个文件：application.properties和tables_xxl_job.sql

[源代码地址](https://gitee.com/xuxueli0323/xxl-job)

<center>
    <img src="/images/posts/blog/java/定时任务/xxl-job/xxl-job-db.png" alt="picture not found" style="zoom:80%;" />
    <br>
</center>

<center>
    <img src="/images/posts/blog/java/定时任务/xxl-job/xxl-job-properties.png" alt="picture not found" style="zoom:80%;" />
    <br>
</center>

#### 第三步：修改配置文件

官方文档已经写的很详细了：

<center>
    <img src="/images/posts/blog/java/定时任务/xxl-job/配置文件.png" alt="picture not found" style="zoom:80%;" />
    <br>
</center>

#### 第四步：执行SQL文件

在数据库中执行文件tables_xxl_job.sql(注意:这里执行的数据库和第三步配置文件中的数据库地址是一致的)

#### 第五步:  创建容器

```shell
docker run  -p 8088:8080 \
-d --name=xxl-job-admin --restart=always \
-v /temp/xxl-job/application.properties:/application.properties \
-v /temp/xxl-job/data/applogs:/data/applogs \
-e PARAMS='--spring.config.location=/application.properties' xuxueli/xxl-job-admin:2.4.0
```

#### 第六步：验证是否成功

可以通过docker ps -a查看，也可以登录http://个人ip:8088/xxl-job-admin/进行访问

账号：admin 密码：123456

<center>
    <img src="/images/posts/blog/java/定时任务/xxl-job/部署成功.png" alt="picture not found" style="zoom:80%;" />
    <br>
</center>



## 参考资料

[一文带你搞懂xxl-job（分布式任务调度平台） - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/625060354)

[分布式任务调度平台XXL-JOB (xuxueli.com)](https://www.xuxueli.com/xxl-job/)【官方文档】
